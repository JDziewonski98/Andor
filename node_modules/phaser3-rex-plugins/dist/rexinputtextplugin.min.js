!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).rexinputtextplugin=t()}(this,function(){"use strict";function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function e(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?j(e):t}var P=function(e){e.stopPropagation()},i=Phaser.GameObjects.DOMElement,C=Phaser.Utils.Objects.IsPlainObject,E=Phaser.Utils.Objects.GetValue,u=function(){function k(e,t,n,o,i,r){var u;x(this,k),C(t)?(t=E(r=t,"x",0),n=E(r,"y",0),o=E(r,"width",void 0),i=E(r,"height",void 0)):C(o)&&(o=E(r=o,"width",void 0),i=E(r,"height",void 0)),void 0===r&&(r={});var s,l=e.scale.autoRound;void 0!==o&&(l&&(o=Math.floor(o)),r.width=o+"px"),void 0!==i&&(l&&(i=Math.floor(i)),r.height=i+"px");var a,c,d=E(r,"type","text");for(var f in"textarea"===d?(s=document.createElement("textarea")).style.resize="none":(s=document.createElement("input")).type=d,T)a=T[f],void 0!==(c=E(r,f,a[1]))&&(s[a[0]]=c);var h,p,v=E(r,"style",void 0);for(var f in void 0===v&&(v={}),S)h=S[f],void 0!==(p=E(r,f,h[1]))&&(v[h[0]]=p);var y=s.style;for(var f in r)f in T||f in S||f in y&&(v[f]=r[f]);v["box-sizing"]="border-box",(u=w(this,O(k).call(this,e,t,n,s,v))).type="rexInputText";function b(e){u.node[_[e]]=function(){this.emit(e,this)}.bind(j(u))}var g;for(var m in _)b(m);return(g=u.node).addEventListener("touchstart",P,!1),g.addEventListener("touchmove",P,!1),g.addEventListener("touchend",P,!1),g.addEventListener("mousedown",P,!1),g.addEventListener("mouseup",P,!1),g.addEventListener("mousemove",P,!1),u}return t(k,i),e(k,[{key:"resize",value:function(e,t){var n=this.node.style;return n.width=e+"px",n.height=t+"px",this.updateSize(),this}},{key:"setText",value:function(e){return this.text=e,this}},{key:"selectText",value:function(){return this.node.select(),this}},{key:"setPlaceholder",value:function(e){return this.placeholder=e,this}},{key:"setTooltip",value:function(e){return this.tooltip=e,this}},{key:"setTextChangedCallback",value:function(e){return this.onTextChanged=e,this}},{key:"setReadOnly",value:function(e){return void 0===e&&(e=!0),this.readOnly=e,this}},{key:"setSpellCheck",value:function(e){return this.spellCheck=e,this}},{key:"setStyle",value:function(e,t){return this.node.style[e]=t,this}},{key:"getStyle",value:function(e){return this.node.style[e]}},{key:"scrollToBottom",value:function(){return this.node.scrollTop=this.node.scrollHeight,this}},{key:"setEnabled",value:function(e){return void 0===e&&(e=!0),this.node.disabled=!e,this}},{key:"setBlur",value:function(){return this.node.blur(),this}},{key:"setFocus",value:function(){return this.node.focus(),this}},{key:"text",get:function(){return this.node.value},set:function(e){this.node.value=e}},{key:"placeholder",get:function(){return this.node.placeholder},set:function(e){this.node.placeholder=e}},{key:"tooltip",get:function(){return this.node.title},set:function(e){this.node.title=e}},{key:"readOnly",get:function(){return this.node.readOnly},set:function(e){this.node.readOnly=e}},{key:"spellCheck",get:function(){return this.node.spellcheck},set:function(e){this.node.spellcheck=e}}]),k}(),T={id:["id",void 0],text:["value",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readonly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"]},S={align:["textAlign",void 0],width:["width",void 0],height:["height",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],outline:["outline","none"]},_={textchange:"oninput",click:"onclick",dblclick:"ondblclick",focus:"onfocus",blur:"onblur"};function r(e,t,n,o,i){var r=new u(this.scene,e,t,n,o,i);return this.scene.add.existing(r),r}var s=Phaser.Utils.Objects.GetAdvancedValue,a=Phaser.GameObjects.BuildGameObject;function c(e,t){var n=s(e,"width",void 0),o=s(e,"height",void 0);void 0!==t&&(e.add=t);var i=new u(this.scene,0,0,n,o,e);return a(this.scene,i,e),i}function d(e){return null==e||""===e||0===e.length}var f=function(){function n(e){var t;return x(this,n),t=w(this,O(n).call(this,e)),e.registerGameObject("rexInputText",r,c),t}return t(n,Phaser.Plugins.BasePlugin),e(n,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this)}}]),n}();return function(e,t,n){if("object"===l(e)){if(d(t)){if(null==n)return;"object"===l(n)&&(e=n)}else{"string"==typeof t&&(t=t.split("."));var o=t.pop();(function(e,t,n){var o=e;if(!d(t)){var i;"string"==typeof t&&(t=t.split("."));for(var r=0,u=t.length;r<u;r++){var s;if(null==o[i=t[r]]||"object"!==l(o[i]))s=r!==u-1||void 0===n?{}:n,o[i]=s;o=o[i]}}return o})(e,t)[o]=n}}}(window,"RexPlugins.GameObjects.InputText",u),f});
